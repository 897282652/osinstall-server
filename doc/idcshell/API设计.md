
# 概要

这里定义各个API的共通以及说明，API的具体内容（input/output）由另外的 yaml 文件定义。

# API共通

1.  权限认证
    采用token的方式，登录成功后获取一个token，在有效时间内，每次的API请求都需要带上token信息。
2.  API版本
    调用API时需要带上API的版本信息

# API说明

## 用户类 API

1.  用户登录
    -   验证用户名，密码
    -   返回权限信息，token，部署单元/主机信息
2.  用户配置：获取用户个性化的配置信息

## 查询类 API

1.  查询部署单元：返回有权限操作的部署单元信息，包括此部署单元上可以执行命令的用户信息
2.  查询主机：返回有权限操作的主机信息，包括此主机上可以执行命令的用户信息

## 显示类 API

1.  显示白名单列表
2.  显示黑名单列表
3.  显示个人配置信息：个性化的配置信息
4.  显示公共配置信息
5.  显示插件信息
6.  显示历史命令

## 执行类 API

1.  发送命令：发送远程主机要执行的命令
2.  刷新缓存：刷新登录时缓存的信息

## 管理类 API

1.  用户管理：CURD
2.  角色管理：CURD
3.  部门管理：CURD
4.  部署单元管理：CURD
5.  主机管理：CURD
6.  黑白名单管理：CURD
7.  MCO证书管理：CURD
8.  SSH-KEY管理：CURD
9.  任务列表查询：查询当前执行的任务信息
10. 历史纪录审计：命令执行结果记录
11. 操作审计：登录操作，执行命令操作
